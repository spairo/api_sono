<!DOCTYPE html>
<html lang="en">
    <head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" >
        <meta charset="utf-8">
        <title>Upload Manager</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">

        <!-- Le styles -->
        <link href="assets/css/vendor/1-bootstrap-2.3.1.css" rel="stylesheet" />
        <link href="assets/css/vendor/2-bootstrap-responsive-2.3.1.css" rel="stylesheet" />
        <link href="assets/css/vendor/3-prettify.css" rel="stylesheet" />
        <link href="assets/css/docs.css" rel="stylesheet" />
        <link href="assets/css/backbone.upload-manager.css" rel="stylesheet" />

        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
            <script src="assets/js/html5shiv.js"></script>
        <![endif]-->

        <!-- Top scripts -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    </head>

    <body>

        <div class="container">

            <div class="demonstration">

                <h1>Upload Conferences</h1>

                <div class="row-fluid">
                    <div class="span6">
                        <h2>Upload Manager</h2>
                        <div id="manager-area"></div>
                        <script type="text/javascript">
                        $(function(){
                            Backbone.TemplateManager.baseUrl = 'templates/{name}';

	                         // Create the upload manager
	                         window.uploadManager = new Backbone.UploadManager({
	                             'uploadUrl': 'http://upload-manager.sroze.io/upload',
	                             'templates': {
	                                 'main': 'upload-manager.main',
	                                 'file': 'upload-manager.file'
	                             }
	                         });

	                         // Render it
	                         uploadManager.renderTo($('div#manager-area'));
                        });
                        </script>
                    </div>
                    <div class="span6">
                        <h2>Uploaded files</h2>
                        <ul id="file-list"></ul>
                        <script type="text/javascript">
                        $(function(){
	                        // On file uploaded, refresh list.
	                        window.uploadManager.on('filedone', function () {
	                            $.get('http://upload-manager.sroze.io/files').done(function(result){
	                                var target = $('ul#file-list').empty();

	                                $.each(result, function (index, file) {
	                                    target.append(
	                                        '<li>'+file.name+' ('+file.size+' bytes) <a href="http://upload-manager.sroze.io'+file.download_url+'">Download</a></li>'
	                                    );
	                                });
	                            });
	                        });
                        });
                        </script>
                    </div>
                </div>


        </div>

      </div>

        <script type="text/javascript" src="assets/js/vendor/1-json2.js"></script>
        <script type="text/javascript" src="assets/js/vendor/2-bootstrap-2.3.1.js"></script>
        <script type="text/javascript" src="assets/js/vendor/2-underscore-1.4.4.js"></script>
        <script type="text/javascript" src="assets/js/vendor/3-backbone-1.0.0.js"></script>
        <script type="text/javascript" src="assets/js/vendor/4-backbone-defered-view-loader.js"></script>
        <script type="text/javascript" src="assets/js/vendor/8-jquery.iframe-transport.js"></script>
        <script type="text/javascript" src="assets/js/vendor/8-jquery.ui.widget.js"></script>
        <script type="text/javascript" src="assets/js/vendor/9-jquery.fileupload.js"></script>
        <script type="text/javascript" src="assets/js/vendor/prettify.js"></script>
        <script type="text/javascript" src="assets/js/docs.js"></script>
        <script type="text/javascript" src="assets/js/backbone.upload-manager.js"></script>
    </body>
</html>
